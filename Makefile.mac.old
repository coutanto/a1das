#
#    Setting fo a Mac running Mojave and having old (2017) MKL libraries 
#


# --------------------------  TO BE SET ACCORDING TO YOUR COMPUTER -----------------------
#
# where MKL static & dynamic libs are located
#
MKLROOT=/opt/intel/compilers_and_libraries_2017.4.181/mac/mkl
MKLLIB=$(MKLROOT)/lib
MKLROOT=/Users/coutanto/work/das/a1das/A1-LINUX-MKL
MKLLIB=/opt/intel/compilers_and_libraries_2017.4.181/mac/mkl/lib

#
# python & numpy include files
#
# run configure_var.sh before
# including this file
include $(BASE)/Makefile.python

#
# static Linking options
#
# openmp for code and mkl libs
#LDFLAGS_STATIC = ${MKLLIB}/libmkl_intel_lp64.a ${MKLLIB}/libmkl_intel_thread.a ${MKLLIB}/libmkl_core.a /opt/intel/compilers_and_libraries_2017.4.181/mac/compiler/lib/libiomp5.a -lpthread -lm -ldl
#openmp for code but sequential for mkl libs
LDFLAGS_STATIC = ${MKLLIB}/libmkl_intel_lp64.a ${MKLLIB}/libmkl_sequential.a ${MKLLIB}/libmkl_core.a  -lgomp -lpthread -lm -ldl

#
# python linking option
#
PYTHONFLAG= -undefined dynamic_lookup -bundle

